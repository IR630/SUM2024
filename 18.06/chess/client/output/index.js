(function () {
  'use strict';

  let UserName, RoomName;
  const socket = new WebSocket("ws://localhost:3030");

  let a = document.getElementById("MyButton");
  a.addEventListener("click", () => {
    let b = document.getElementById("name");
    let c = document.getElementById("room");

    UserName = b.value;
    RoomName = c.value;

    if (UserName == '')
      alert("Please type ur name!");
    if (RoomName == '')
      alert("Please type ur room name!");

    console.log(`UserName: ${UserName}, Room: ${RoomName}`);
  });

  let m = document.getElementById("mes");
  m.addEventListener("keydown", (event) => {
    if (event.key == "Enter") {
      let a = { name: UserName, text: m.value };
      if (a.name == undefined)
        alert("Enter name!!!");
      else
        socket.send(JSON.stringify(a));
      m.value = "";
    }
  });

  socket.onmessage = (event) => {
    let ids = document.getElementById("chat");

    let el = document.createElement("p");
    let e = document.createElement("br");
    el.innerHTML = JSON.parse(event.data).text;
    let name = JSON.parse(event.data).name;

    if (name == undefined)
      return;
    if (name == document.getElementById("name").value) {
      el.className = "me";
      ids.appendChild(el);
    } else {
      el.className = "bratan";
      ids.appendChild(el);
    }
    
    ids.appendChild(e);
  };

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBVc2VyTmFtZSwgUm9vbU5hbWU7XHJcbmNvbnN0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL2xvY2FsaG9zdDozMDMwXCIpO1xyXG5cclxubGV0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk15QnV0dG9uXCIpO1xyXG5hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgbGV0IGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIik7XHJcbiAgbGV0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21cIik7XHJcblxyXG4gIFVzZXJOYW1lID0gYi52YWx1ZTtcclxuICBSb29tTmFtZSA9IGMudmFsdWU7XHJcblxyXG4gIGlmIChVc2VyTmFtZSA9PSAnJylcclxuICAgIGFsZXJ0KFwiUGxlYXNlIHR5cGUgdXIgbmFtZSFcIik7XHJcbiAgaWYgKFJvb21OYW1lID09ICcnKVxyXG4gICAgYWxlcnQoXCJQbGVhc2UgdHlwZSB1ciByb29tIG5hbWUhXCIpO1xyXG5cclxuICBjb25zb2xlLmxvZyhgVXNlck5hbWU6ICR7VXNlck5hbWV9LCBSb29tOiAke1Jvb21OYW1lfWApO1xyXG59KTtcclxuXHJcbmxldCBtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNcIik7XHJcbm0uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgaWYgKGV2ZW50LmtleSA9PSBcIkVudGVyXCIpIHtcclxuICAgIGxldCBhID0geyBuYW1lOiBVc2VyTmFtZSwgdGV4dDogbS52YWx1ZSB9O1xyXG4gICAgaWYgKGEubmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgIGFsZXJ0KFwiRW50ZXIgbmFtZSEhIVwiKTtcclxuICAgIGVsc2VcclxuICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoYSkpO1xyXG4gICAgbS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG59KTtcclxuXHJcbnNvY2tldC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICBsZXQgaWRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGF0XCIpO1xyXG5cclxuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICBsZXQgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKTtcclxuICBlbC5pbm5lckhUTUwgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpLnRleHQ7XHJcbiAgbGV0IG5hbWUgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpLm5hbWU7XHJcblxyXG4gIGlmIChuYW1lID09IHVuZGVmaW5lZClcclxuICAgIHJldHVybjtcclxuICBpZiAobmFtZSA9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikudmFsdWUpIHtcclxuICAgIGVsLmNsYXNzTmFtZSA9IFwibWVcIjtcclxuICAgIGlkcy5hcHBlbmRDaGlsZChlbCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsLmNsYXNzTmFtZSA9IFwiYnJhdGFuXCI7XHJcbiAgICBpZHMuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gIH1cclxuICBcclxuICBpZHMuYXBwZW5kQ2hpbGQoZSk7XHJcbn07XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7RUFBQSxJQUFJLFFBQVEsRUFBRSxRQUFRLENBQUM7RUFDdkIsTUFBTSxNQUFNLEdBQUcsSUFBSSxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNwRDtFQUNBLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7RUFDNUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO0VBQ2xDLEVBQUUsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztFQUMx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
