(function () {
  'use strict';

  let UserName, RoomName;
  const socket = new WebSocket("ws://localhost:3030");

  let a = document.getElementById("MyButton");
  a.addEventListener("click", () => {
    let b = document.getElementById("name");
    let c = document.getElementById("room");

    UserName = b.value;
    RoomName = c.value;

    if (UserName == '')
      alert("Please type ur name!");
    if (RoomName == '')
      alert("Please type ur room name!");

    console.log(`UserName: ${UserName}, Room: ${RoomName}`);
  });

  let m = document.getElementById("mes");
  m.addEventListener("keydown", (event) => {
    if (event.key == "Enter") {
      let a = { name: UserName, text: m.value };
      if (a.name == undefined)
        alert("Enter name!!!");
      else
        socket.send(JSON.stringify(a));
      m.value = "";
    }
  });

  socket.onmessage = (event) => {
    let ids = document.getElementById("chat");

    let el = document.createElement("p");
    let e = document.createElement("br");
    el.innerHTML = JSON.parse(event.data).text;
    let name = JSON.parse(event.data).name;

    if (name == document.getElementById("name").value) {
      el.className = "me";
      ids.appendChild(el);
    } else {
      el.className = "bratan";
      ids.appendChild(el);
    }
    
    ids.appendChild(e);
  };

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBVc2VyTmFtZSwgUm9vbU5hbWU7XHJcbmNvbnN0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL2xvY2FsaG9zdDozMDMwXCIpO1xyXG5cclxubGV0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk15QnV0dG9uXCIpO1xyXG5hLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgbGV0IGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIik7XHJcbiAgbGV0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21cIik7XHJcblxyXG4gIFVzZXJOYW1lID0gYi52YWx1ZTtcclxuICBSb29tTmFtZSA9IGMudmFsdWU7XHJcblxyXG4gIGlmIChVc2VyTmFtZSA9PSAnJylcclxuICAgIGFsZXJ0KFwiUGxlYXNlIHR5cGUgdXIgbmFtZSFcIik7XHJcbiAgaWYgKFJvb21OYW1lID09ICcnKVxyXG4gICAgYWxlcnQoXCJQbGVhc2UgdHlwZSB1ciByb29tIG5hbWUhXCIpO1xyXG5cclxuICBjb25zb2xlLmxvZyhgVXNlck5hbWU6ICR7VXNlck5hbWV9LCBSb29tOiAke1Jvb21OYW1lfWApO1xyXG59KTtcclxuXHJcbmxldCBtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNcIik7XHJcbm0uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgaWYgKGV2ZW50LmtleSA9PSBcIkVudGVyXCIpIHtcclxuICAgIGxldCBhID0geyBuYW1lOiBVc2VyTmFtZSwgdGV4dDogbS52YWx1ZSB9O1xyXG4gICAgaWYgKGEubmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgIGFsZXJ0KFwiRW50ZXIgbmFtZSEhIVwiKTtcclxuICAgIGVsc2VcclxuICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoYSkpO1xyXG4gICAgbS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG59KTtcclxuXHJcbnNvY2tldC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICBsZXQgaWRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGF0XCIpO1xyXG5cclxuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICBsZXQgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKTtcclxuICBlbC5pbm5lckhUTUwgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpLnRleHQ7XHJcbiAgbGV0IG5hbWUgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpLm5hbWU7XHJcblxyXG4gIGlmIChuYW1lID09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiKS52YWx1ZSkge1xyXG4gICAgZWwuY2xhc3NOYW1lID0gXCJtZVwiO1xyXG4gICAgaWRzLmFwcGVuZENoaWxkKGVsKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWwuY2xhc3NOYW1lID0gXCJicmF0YW5cIjtcclxuICAgIGlkcy5hcHBlbmRDaGlsZChlbCk7XHJcbiAgfVxyXG4gIFxyXG4gIGlkcy5hcHBlbmRDaGlsZChlKTtcclxufTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0VBQUEsSUFBSSxRQUFRLEVBQUUsUUFBUSxDQUFDO0VBQ3ZCLE1BQU0sTUFBTSxHQUFHLElBQUksU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDcEQ7RUFDQSxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0VBQzVDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtFQUNsQyxFQUFFLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7RUFDMUMsRUFBRSxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzFDO0VBQ0EsRUFBRSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztFQUNyQixFQUFFLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ3JCO0VBQ0EsRUFBRSxJQUFJLFFBQVEsSUFBSSxFQUFFO0VBQ3BCLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7RUFDbEMsRUFBRSxJQUFJLFFBQVEsSUFBSSxFQUFFO0VBQ3BCLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDdkM7RUFDQSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDMUQsQ0FBQyxDQUFDLENBQUM7QUFDSDtFQUNBLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDdkMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssS0FBSztFQUN6QyxFQUFFLElBQUksS0FBSyxDQUFDLEdBQUcsSUFBSSxPQUFPLEVBQUU7RUFDNUIsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztFQUM5QyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxTQUFTO0VBQzNCLE1BQU0sS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0VBQzdCO0VBQ0EsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNyQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0VBQ2pCLEdBQUc7RUFDSCxDQUFDLENBQUMsQ0FBQztBQUNIO0VBQ0EsTUFBTSxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQUssS0FBSztFQUM5QixFQUFFLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUM7RUFDQSxFQUFFLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7RUFDdkMsRUFBRSxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0VBQ3ZDLEVBQUUsRUFBRSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7RUFDN0MsRUFBRSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDekM7RUFDQSxFQUFFLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFO0VBQ3JELElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7RUFDeEIsSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQ3hCLEdBQUcsTUFBTTtFQUNULElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7RUFDNUIsSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQ3hCLEdBQUc7RUFDSDtFQUNBLEVBQUUsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUNyQixDQUFDOzs7Ozs7In0=
